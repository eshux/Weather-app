{"version":3,"sources":["components/SearchBox/SearchBox.module.scss","components/SearchBox/SearchBox.tsx","components/Header/Header.tsx","components/Forecast/Forecast.tsx","App.tsx","reportWebVitals.ts","index.tsx","components/Header/Header.module.scss","components/Forecast/Forecast.module.scss","App.module.scss"],"names":["module","exports","SearchBox","value","onChange","onClick","placeholder","btnText","type","className","style","input","button","Header","time","date","city","country","header","heading","heading2","place","heading3","Forecast","temp","icon","description","next","src","alt","wrapper","imgData","img","rigaTime","moment","format","rigaDate","App","useState","currentWeatherData","setCurrentWeatherData","timezone","setTimezone","inputValue","setInputValue","cityData","setCityData","counter","setCounter","setTime","setDate","nextDays","setNextDays","useEffect","axios","get","then","response","data","list","days","filter","it","dt_txt","split","includes","catch","error","alert","timer","setTimeout","currentTime","Number","clearTimeout","imgNumber","forEach","weather","main","app","background","name","lookup","byIso","sys","e","target","dayWrapper","map","dt","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.73be4e89.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"SearchBox_button__2VPVU\",\"input\":\"SearchBox_input__20rbH\"};","import React, { FC } from 'react';\r\nimport style from './SearchBox.module.scss';\r\n\r\ntype Props = {\r\n  value: string;\r\n  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\r\n  onClick: () => void;\r\n  placeholder: string;\r\n  btnText: string;\r\n};\r\n\r\nconst SearchBox:FC<Props> = ({ value, onChange, onClick, placeholder, btnText }) => {\r\n  return (\r\n    <>\r\n      <input\r\n        type=\"text\"\r\n        value={value}\r\n        onChange={onChange}\r\n        placeholder={placeholder}\r\n        className={style.input}\r\n      />\r\n      <button type=\"button\" onClick={onClick} className={style.button}>\r\n        {btnText}\r\n      </button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SearchBox;\r\n","import React, { FC } from 'react';\r\nimport style from './Header.module.scss';\r\n\r\ntype Props = {\r\n  time: string;\r\n  date: string;\r\n  city: string;\r\n  country: string;\r\n};\r\n\r\nconst Header: FC<Props> = ({ time, date, city, country }) => {\r\n  return (\r\n    <div className={style.header}>\r\n      <div>\r\n        <h1 className={style.heading}>{time}</h1>\r\n        <h2 className={style.heading2}>{date}</h2>\r\n      </div>\r\n      <div className={style.place}>\r\n        <h2 className={style.heading2}>{city}</h2>\r\n        <h3 className={style.heading3}>{country}</h3>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { FC } from 'react';\r\nimport style from './Forecast.module.scss';\r\n\r\ntype Props = {\r\n  temp: number;\r\n  icon: string;\r\n  description: string;\r\n  date: string;\r\n  className?: string;\r\n};\r\n\r\nconst Forecast: FC<Props> = ({ temp, icon, description, date, className }) => {\r\n  return (\r\n    <>\r\n      {className ? (\r\n        <div className={style.next}>\r\n          <h3>{date}</h3>\r\n          <img src={icon} alt=\"\" />\r\n          <h1>{temp}°C</h1>\r\n          <span>{description}</span>\r\n        </div>\r\n      ) : (\r\n        <div className={style.wrapper}>\r\n          <div>\r\n            <h5 className={style.date}>{date}</h5>\r\n            <span className={style.temp}>{temp}°C</span>\r\n            <img src={icon} alt=\"\" />\r\n          </div>\r\n          <span>{description}</span>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Forecast;\r\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport 'flexboxgrid';\nimport moment from 'moment';\nimport lookup from 'country-code-lookup';\nimport style from './App.module.scss';\nimport SearchBox from './components/SearchBox/SearchBox';\nimport Header from './components/Header/Header';\nimport Forecast from './components/Forecast/Forecast';\n\ntype WeatherData = {\n  name: string;\n  timezone: number;\n  main: {\n    temp: number;\n    feels_like: number;\n  };\n  sys: {\n    country: string;\n  };\n  weather: [\n    {\n      icon: string;\n      main: string;\n      description: string;\n    }\n  ];\n};\n\ntype NextDays = {\n  main: {\n    temp: number;\n  };\n  dt: number;\n  weather: {\n    icon: string;\n    description: string;\n    main: string;\n  }[];\n}[];\n\nconst imgData = [\n  {\n    type: ['Drizzle', 'Rain'],\n    img: 171,\n  },\n  {\n    type: ['Thunderstorm', 'Tornado'],\n    img: 1019,\n  },\n  {\n    type: ['Clear'],\n    img: 327,\n  },\n  {\n    type: ['Snow'],\n    img: 559,\n  },\n  {\n    type: ['Clouds'],\n    img: 350,\n  },\n  {\n    type: ['Mist', 'Smoke', 'Fog', 'Ash'],\n    img: 472,\n  },\n];\n\nconst rigaTime = moment().format('HH:mm');\nconst rigaDate = moment().format('LL');\n\nconst App = () => {\n  const [currentWeatherData, setCurrentWeatherData] = useState<WeatherData>();\n  const [timezone, setTimezone] = useState<number>(0);\n  const [inputValue, setInputValue] = useState('');\n  const [cityData, setCityData] = useState('Riga');\n  const [counter, setCounter] = useState(0);\n  const [time, setTime] = useState(rigaTime);\n  const [date, setDate] = useState(rigaDate);\n  const [nextDays, setNextDays] = useState<NextDays>([]);\n\n  useEffect(() => {\n    axios\n      .get(\n        `http://api.openweathermap.org/data/2.5/find?q=${cityData}&units=metric&appid=0099190512b15b203f7f3a981660c38d`\n      )\n      .then((response) => {\n        setCurrentWeatherData(response.data.list[0]);\n      });\n\n    axios\n      .get(\n        `http://api.openweathermap.org/data/2.5/forecast?q=${cityData}&lang=en&appid=0099190512b15b203f7f3a981660c38d&units=metric`\n      )\n      .then((response) => {\n        // @ts-ignore\n        const days = response.data.list.filter((it) => {\n          if (it.dt_txt.split(' ').includes('15:00:00')) {\n            return it;\n          }\n          return '';\n        });\n        setNextDays(days);\n        setTimezone(response.data.city.timezone);\n      })\n      .catch((error) => {\n        alert('Something went wrong, please try again');\n      });\n  }, [cityData]);\n\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      if (timezone >= 0 || timezone <= 0) {\n        const myTimeUTC = Number(moment().format('x'));\n        const myTimezoneOffset = Number(moment().format('ZZ')) * 36000;\n        const currentTime = myTimeUTC - myTimezoneOffset + timezone * 1000;\n        setTime(moment(currentTime).format('HH:mm'));\n        setDate(moment(currentTime).format('LL'));\n      }\n      setCounter(counter + 1);\n    }, 1000);\n    return () => clearTimeout(timer);\n  }, [counter, cityData, timezone]);\n\n  let imgNumber = 1019;\n\n  if (!currentWeatherData) {\n    return <h1>Loading...</h1>;\n  }\n\n  imgData.forEach((it) => {\n    if (it.type.includes(currentWeatherData.weather[0].main)) {\n      imgNumber = it.img;\n    }\n  });\n\n  return (\n    <section\n      className={style.app}\n      style={{\n        background: `url(https://picsum.photos/id/${imgNumber}/2000/1000) no-repeat fixed center`,\n      }}\n    >\n      <div className=\"container container-fluid \">\n        <div className=\"row between-xs\">\n          <div className=\"col-xs-12\">\n            <Header\n              time={time}\n              date={date}\n              city={currentWeatherData.name}\n              country={\n                lookup.byIso(`${currentWeatherData.sys.country}`).country\n              }\n            />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <SearchBox\n              value={inputValue}\n              onChange={(e) => setInputValue(e.target.value)}\n              onClick={() => setCityData(inputValue)}\n              btnText=\"Search\"\n              placeholder=\"Enter a city name..\"\n            />\n            <Forecast\n              temp={currentWeatherData.main.temp}\n              icon={`http://openweathermap.org/img/wn/${currentWeatherData.weather[0].icon}.png`}\n              description={currentWeatherData.weather[0].description}\n              date=\"now:\"\n            />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <div className={style.dayWrapper}>\n              {nextDays &&\n                nextDays.map((it) => {\n                  return (\n                    <Forecast\n                      key={it.dt}\n                      className='nextDays'\n                      icon={`http://openweathermap.org/img/wn/${it.weather[0].icon}.png`}\n                      date={moment(it.dt * 1000).format('ddd')}\n                      temp={it.main.temp}\n                      description={it.weather[0].description}\n                    />\n                  );\n                })}\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);  \n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"heading\":\"Header_heading__2sIPA\",\"heading2\":\"Header_heading2__qgC9q\",\"heading3\":\"Header_heading3__1Zmt3\",\"place\":\"Header_place__19eQ2\",\"header\":\"Header_header__1e5hr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"temp\":\"Forecast_temp__2PLn-\",\"wrapper\":\"Forecast_wrapper__nEmLn\",\"next\":\"Forecast_next__21RgG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__335ZH\",\"dayWrapper\":\"App_dayWrapper__ApysD\"};"],"sourceRoot":""}